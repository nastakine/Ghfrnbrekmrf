(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";!function(t){if(!t.views)return;t.views.tags({spaDropDown:{template:{markup:'    <div class="drop-radio-base {{:~tagCtx.props.class}}" data-link="class{merge:~tagCtx.props.disabled toggle=\'disabled\'}">\n        {{if ~tagCtx.props.title}}\n        <div class="label">{{: ~tagCtx.props.title}}</div>\n        {{/if}}\n    <div class="drop-btn" data-link="{on ~tag.toggle}class{merge:~tag.open toggle=\'open\'}">\n        {^{if ~tag.selected &&  ~tag.selected^name}}\n        <span class="drop-btn-checked">{^{localize:~tag.selected^name}}</span>\n        {{else}}\n        <span class="drop-btn-title">{{localize:~tagCtx.props.label || \'Выберите\'}}</span>\n        {{/if}}\n    </div>\n        {^{radiogroup ~tag.selected convert="fromObj" convertBack="toObj" ~props = ~tagCtx.props}}\n            <div class="drop-list">\n                {^{for #data}}\n                    <label class="drop-select">\n                        <input type="radio" class="drop-select-input" name="{{:~props.name || \'period\'}}" value="{{:value}}" data-link="data-val{:~props.useValidation}data-val-required{:(~props.useValidation ? ~props.validation || \'*\' : null)}" />\n                        <span class="drop-select-text">{{localize:name}}</span>\n                    </label>\n                {{/for}}\n            </div>\n        {{/radiogroup}}\n    </div>',converters:{fromId:function(t){var e;return null!==(e=this.tagCtx.view.parent.data.findIndex(e=>t===e.value.toString()))&&void 0!==e?e:-1},toId:function(t){return-1===t||void 0===t?"":this.tagCtx.view.parent.data[t].value.toString()},fromObj:function(t){return t?t.value:""},toObj:function(t){var e;return null!==(e=this.tagCtx.view.data.find(e=>t===e.value.toString()))&&void 0!==e?e:{}}}},bindTo:["selected"],mainElement:".drop-radio-base",dataBoundOnly:!0,selected:{},previousSelected:-1,setSize:!0,async init(){this.closeOnOuterClick=this.closeOnOuterClick.bind(this),t.observe(this,"selected",function(t,e){var s,i;this.previousSelected=e.oldValue,this.updateValues(this.selected),null===(s=(i=this.tagCtx.props).onSelect)||void 0===s||s.call(i)})},onAfterLink(){this.dropList=this.mainElem[0].querySelector(".drop-list"),this.dropList.style.cssText="display: block; opacity: 0; pointer-events: none;"},onBind:function(e){var s=e.props.selected;if(e.args[0]&&s){var i=e.args[0].find(t=>t.value==s.value);t.observable(this).setProperty("selected",i)}},toggle:function(e,i){if(this.mainElem[0].classList.contains("disabled"))return!1;const n=!this.open;t.observable(this).setProperty("open",n);const o=this.dropList.getBoundingClientRect();n?(o.bottom>document.documentElement.clientHeight&&(this.dropList.style.maxHeight=document.documentElement.clientHeight-o.top+"px",this.dropList.style.overflow="scroll"),this.dropList.style.pointerEvents="auto",document.addEventListener("click",this.closeOnOuterClick)):(this.dropList.style.maxHeight="unset",this.dropList.style.overflow="auto",this.dropList.style.pointerEvents="none",document.removeEventListener("click",this.closeOnOuterClick)),window.requestAnimationFrame(s(this.dropList,n))},closeOnOuterClick(e){this.mainElem[0].contains(e.target)&&!this.dropList.contains(e.target)||(document.removeEventListener("click",this.closeOnOuterClick),t.observable(this).setProperty("open",!1),this.dropList.style.maxHeight="unset",this.dropList.style.overflow="auto",this.dropList.style.pointerEvents="none",window.requestAnimationFrame(s(this.dropList,!1)))}}});const e=1/18;function s(t,s){let i=parseInt(window.getComputedStyle(t).opacity);return function n(){if(i+=e*(s?1:-1),t.style.opacity=i,i<1&&i>0)return window.requestAnimationFrame(n)}}}(jQuery);

},{}]},{},[1]);
